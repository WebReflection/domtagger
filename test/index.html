<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>domtagger</title>
  <script src="../min.js"></script>
  <script>
  this.onload = function () {
    var html = domtagger({
      // can be html or svg
      type: 'html',
      // how to handle attributes
      // Note: this callback is simplified for demo purpose.
      attribute: function (node, name, attribute) {
        return function (value) {
          var type = typeof value;
          if (type === 'boolean' || type === 'function')
            node[name] = value;
          else if (value == null)
            node.removeAttribute(name);
          else
            node.setAttribute(name, value);
        }
      },
      // how to handle generic content
      // Note: this callback is simplified for demo purpose.
      any: function (node, childNodes) {
        var parentNode = node.parentNode;
        return function (html) {
          parentNode.innerHTML = html;
        };
      },
      // how to handle cases where content
      // can only be some text
      text: function (node) {
        return function (textContent) {
          node.textContent = textContent;
        };
      },
      // OPTIONAL
      // a man in the middle for the output
      transform: function (html) {
        // it must return the eventually transformed html
        return html;
      }
    });
    window.render = function render(model) {
      return html`
        <div onclick=${model.onclick}>
          <div>${model.html}</div>
          <textarea>${model.text}</textarea>
        </div>
      `;
    };
    document.body.appendChild(render({
      onclick: function (e) {
        alert(e.currentTarget.outerHTML);
      },
      html: 'Hello <strong>domtagger</strong>!',
      text: "isn't this cool?"
    }));
  };
  </script>
</head>
<body></body>
</html>